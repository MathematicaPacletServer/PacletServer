(* ::Package:: *)

(* Autogenerated Package *)

BeginPackage["PublicPacletServerBuild`"];


WithLocalPublicPacletServer::usage=
  "Does stuff with paclet server override stuff";
PublicPacletServerRebuild::usage=
  "Rebuilds and pushes the paclet server";


Begin["`Private`"];


<<PublicPacletServer`Common`
<<PublicPacletServer`Build`


mainDir=Nest[DirectoryName, $InputFileName, 3];
reviewDir=FileNameJoin@{mainDir, "ReviewQueue"};
buildDir=FileNameJoin@{mainDir, "build"};
pacletsDir=FileNameJoin@{ParentDirectory@mainDir, "Repository"};


WithLocalPublicPacletServer[e_]:=
  Block[
    {
      $Clone=mainDir,
      $Paclets=pacletsDir,
      $ReviewQueueDir=reviewDir,
      $BuildDir=buildDir
      },
    e
    ];
WithLocalPublicPacletServer~SetAttributes~HoldFirst;


PublicPacletServerRebuild[args___]:=
  WithLocalPublicPacletServer[RebuildServer[args]];


End[];


EndPackage[];



